Version 4
SHEET 1 2788 5112
WIRE -800 -96 -1232 -96
WIRE -1232 -80 -1232 -96
WIRE -224 -48 -352 -48
WIRE 928 -48 928 -80
WIRE 896 -32 688 -32
WIRE 1072 -16 960 -16
WIRE 1104 -16 1072 -16
WIRE 896 0 816 0
WIRE -1232 16 -1232 0
WIRE -544 16 -544 -16
WIRE -352 16 -352 -48
WIRE -320 16 -352 16
WIRE 16 16 16 -16
WIRE 448 16 288 16
WIRE -224 32 -224 -48
WIRE -224 32 -256 32
WIRE -192 32 -224 32
WIRE 448 32 448 16
WIRE -448 48 -448 32
WIRE -320 48 -448 48
WIRE 816 48 816 0
WIRE 928 48 928 16
WIRE -448 64 -448 48
WIRE -288 80 -288 64
WIRE 816 96 816 48
WIRE 944 96 816 96
WIRE 1072 96 1072 -16
WIRE 1072 96 1024 96
WIRE -1232 112 -1232 96
WIRE -544 128 -544 96
WIRE 288 128 288 16
WIRE 352 128 288 128
WIRE 448 144 448 112
WIRE 448 144 416 144
WIRE 560 144 448 144
WIRE -448 160 -448 144
WIRE 16 160 16 96
WIRE 16 160 0 160
WIRE 96 160 16 160
WIRE 352 160 256 160
WIRE 704 176 688 176
WIRE 816 176 816 96
WIRE 816 176 784 176
WIRE 848 176 816 176
WIRE 960 176 928 176
WIRE 384 192 384 176
FLAG -544 -16 vcc
FLAG -800 -96 v_in
FLAG 928 -80 vcc
FLAG 928 48 0
FLAG -64 160 v_in
FLAG 1104 -16 v_out
FLAG 560 144 vac
FLAG 688 -32 vac
FLAG 384 112 vcc
FLAG 96 160 vatt
FLAG 384 192 0
FLAG -448 -48 vcc
FLAG -448 160 0
FLAG -288 0 vcc
FLAG -288 80 0
FLAG -192 32 vref
FLAG 448 -64 vref
FLAG 16 -16 vref
FLAG 688 176 vref
FLAG -544 128 0
FLAG -1232 192 0
FLAG 816 48 vcomp
FLAG 256 160 vatt
FLAG 960 176 vcc
SYMBOL voltage -544 0 R0
WINDOW 3 -107 55 Left 2
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
WINDOW 0 8 6 Left 2
SYMATTR Value {VCC}
SYMATTR InstName vcc
SYMBOL voltage -1232 -96 R0
WINDOW 0 -113 70 Bottom 2
WINDOW 3 47 58 Left 2
WINDOW 123 0 0 Left 2
WINDOW 39 93 56 VBottom 2
SYMATTR InstName PsuedoNoise
SYMATTR Value SFFM(0 {NOISE*VCC*0.015} 83 1 49)
SYMBOL voltage -1232 0 R0
WINDOW 0 -111 67 Bottom 2
WINDOW 3 49 57 Left 2
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName AnalogInput
SYMATTR Value PULSE({VL} {VH} .25 0.01 0.1 .05 {PERIOD})
SYMBOL voltage -1232 96 R0
WINDOW 0 -116 58 Left 2
WINDOW 3 45 57 Left 2
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName Sweep
SYMATTR Value SINE({0*VCC*0.4} {0*VCC*0.4} .09)
SYMBOL res 0 0 R0
SYMATTR InstName R5
SYMATTR Value 47k
SYMBOL cap 0 144 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value 100n
SYMBOL res 432 16 R0
SYMATTR InstName R6
SYMATTR Value 2700k
SYMBOL res 432 -80 R0
SYMATTR InstName R7
SYMATTR Value 1000k
SYMBOL res -464 -64 R0
SYMATTR InstName R11
SYMATTR Value 1000k
SYMATTR SpiceLine tol=2 pwr=0.25
SYMBOL res -464 48 R0
SYMATTR InstName R12
SYMATTR Value 1000k
SYMATTR SpiceLine tol=2 pwr=0.25
SYMBOL SBORKA\\COMPARATOR\\TLV3491 928 -16 R0
WINDOW 38 12 37 Left 2
WINDOW 0 24 -26 Left 2
SYMATTR InstName U1
SYMBOL Opamps\\LT6004 -288 32 R0
SYMATTR InstName U2
SYMBOL Opamps\\LT6004 384 144 R0
SYMATTR InstName U3
SYMBOL res 800 160 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 1000k
SYMBOL res 944 160 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 1000k
SYMBOL res 1040 80 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 3300k
TEXT -648 -216 Left 2 !.tran 0 15 150m startup uic\n.param VCC=2.5 PERIOD=.2 TL=0.0 TH=0.33 NOISE=.1\n.param VL=VCC*TL VH=VCC*TH
TEXT -1296 -112 Right 2 ;Test signal
TEXT -648 -104 Left 2 ;Power supply
TEXT -1368 -224 Left 2 !;.step param NOISE LIST 0 1\n;.step param VCC LIST 1.8 2.7 3.6\n;.step param PERIOD LIST 10 1 0.1
TEXT 648 -104 Left 2 ;Pulse detection
TEXT -120 -112 Left 2 ;AC couple
TEXT 200 -112 Left 2 ;Amplify
RECTANGLE Normal -1424 -128 -672 224
RECTANGLE Normal -144 224 -656 -128
RECTANGLE Normal 1184 -128 640 224
RECTANGLE Normal 176 -128 -128 224
RECTANGLE Normal 624 -128 192 224
